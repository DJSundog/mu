#!/usr/bin/env zsh
# git diff a specific example's generated binary after converting through xxd.

if [ $# -eq 0 ]
then
  echo "ggdiff <target> [rev]"
  exit 1
fi

target=$1
rev=${2:-HEAD}

tmp=`mktemp`

if [[ $target == 'test'* ]]
then
  git show ${rev}:subx/teensy/$target > $tmp
  xdiff $tmp teensy/$target
else
  git show ${rev}:subx/$target > $tmp
  xdiff $tmp $target
fi
