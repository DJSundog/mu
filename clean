#!/bin/sh
set -e

set -v
rm -rf subx.cc subx_bin* *_list
rm -rf .until
test $# -gt 0 && exit 0  # convenience: 'clean top-level' to leave subsidiary tools alone
rm -rf tools/enumerate tangle/tangle tangle/*_list */*.dSYM
rm -rf tools/browse_trace_bin tools/treeshake tools/linkify tools/*.dSYM
rm -rf tools/termbox/*.o tools/termbox/libtermbox.a
rm -rf tmp_linux mu_linux.iso outfs initrd.fat mu_soso.iso
( cd kernel.soso  &&  make clean; )
